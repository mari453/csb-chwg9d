{"version":3,"sources":["index.js"],"names":["App","_React$Component","Object","_tmp_deploys_chwg9d_clba7dc321ius0us8bgr7fct8_source_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__","_super","_createSuper","props","_this","_tmp_deploys_chwg9d_clba7dc321ius0us8bgr7fct8_source_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","call","state","server_seed","amount","_tmp_deploys_chwg9d_clba7dc321ius0us8bgr7fct8_source_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","_this2","chain","i","push","crypto","createHash","update","length","digest","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","onChange","e","setState","target","map","seed","index","hash","createHmac","divisible","mod","val","o","parseInt","substring","point","h","slice","Math","pow","floor","toFixed","getPoint","style","color","React","Component","rootElement","document","getElementById","ReactDOM","render"],"mappings":"srBAIsB,IAEhBA,EAAG,SAAAC,GAAAC,OAAAC,EAAA,EAAAD,CAAAF,EAAAC,GAAA,IAAAG,EAAAC,EAAAL,GACP,SAAAA,EAAYM,GAAO,IAAAC,EAKf,OALeL,OAAAM,EAAA,EAAAN,CAAAO,KAAAT,IACjBO,EAAAH,EAAAM,KAAAD,KAAMH,IACDK,MAAQ,CACXC,YAAa,GACbC,OAAQ,IACRN,EAsGH,OArGAL,OAAAY,EAAA,EAAAZ,CAAAF,EAAA,EAAAe,IAAA,SAAAC,MACD,WAKE,IALO,IAAAC,EAAAR,KAGDS,EAAQ,CAACT,KAAKE,MAAMC,aAEjBO,EAAI,EAAGA,EAAIV,KAAKE,MAAME,OAAQM,IACrCD,EAAME,KACJC,IACGC,WAAW,UACXC,OAAOL,EAAMA,EAAMM,OAAS,IAC5BC,OAAO,QAQd,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,gDACAF,EAAAC,EAAAC,cAAA,SACEZ,MAAOP,KAAKE,MAAMC,YAClBkB,SAAU,SAAAC,GAAC,OAAId,EAAKe,SAAS,CAAEpB,YAAamB,EAAEE,OAAOjB,WAEvDU,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,0DACAF,EAAAC,EAAAC,cAAA,SACEZ,MAAOP,KAAKE,MAAME,OAClBiB,SAAU,SAAAC,GAAC,OAAId,EAAKe,SAAS,CAAEnB,OAAQkB,EAAEE,OAAOjB,WAGlDU,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,2BAEEnB,KAAKE,MAAMC,aAAiD,KAAlCH,KAAKE,MAAMC,YAAYY,OAKjDE,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,4CAGJF,EAAAC,EAAAC,cAAA,aACGV,EAAMgB,IAAI,SAACC,EAAMC,GAChB,IAAMC,EAAOhB,IACViB,WAAW,SAAUH,GACrBZ,OArCb,oEAsCaE,OAAO,OAEJc,EAAY,SAACF,EAAMG,GAIvB,IAHA,IAAIC,EAAM,EAENC,EAAIL,EAAKb,OAAS,EACbL,EAAIuB,EAAI,EAAIA,EAAI,EAAI,EAAGvB,EAAIkB,EAAKb,OAAQL,GAAK,EACpDsB,IACIA,GAAO,IAAME,SAASN,EAAKO,UAAUzB,EAAGA,EAAI,GAAI,KAClDqB,EAGJ,OAAe,IAARC,GAkBT,IAAMI,EAfN,SAAkBR,GAEhB,GAAIE,EAAUF,EAAM,IAAK,OAAO,EAGhC,IAAIS,EAAIH,SAASN,EAAKU,MAAM,EAAG,IAAS,IACpChB,EAAIiB,KAAKC,IAAI,EAAG,IAMpB,OAHED,KAAKE,OAAO,IAAMnB,EAAIe,IAAMf,EAAIe,IAAM,KACtCK,QAAQ,GAKEC,CAASf,GACvB,OACEX,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIyB,MAAO,CAAEC,MAAOT,EAAQ,EAAI,MAAQ,UACrCA,GAEHnB,EAAAC,EAAAC,cAAA,UAAKO,GACLT,EAAAC,EAAAC,cAAA,UAAKS,QAtDfX,EAAAC,EAAAC,cAAA,MAAIyB,MAAO,CAAEC,MAAO,QAAQ,sDA+DnCtD,EA5GM,CAASuD,IAAMC,WA+GlBC,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAOnC,EAAAC,EAAAC,cAAC5B,EAAG,MAAKyD","file":"static/js/main.6f46689a.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport crypto from \"crypto\";\n\nimport \"./styles.css\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      server_seed: \"\",\n      amount: 10\n    };\n  }\n  render() {\n    // an example with 10 seeds\n\n    const chain = [this.state.server_seed];\n\n    for (let i = 0; i < this.state.amount; i++) {\n      chain.push(\n        crypto\n          .createHash(\"sha256\")\n          .update(chain[chain.length - 1])\n          .digest(\"hex\")\n      );\n    }\n\n    // the hash of bitcoin block 570128 (https://medium.com/@blazedev/blaze-com-crash-seeding-event-v2-d774d7aeeaad)\n    const clientSeed =\n      \"0000000000000000000415ebb64b0d51ccee0bb55826e43846e5bea777d91966\";\n\n    return (\n      <div className=\"App\">\n        <h3>Enter the server seed of your game</h3>\n        <input\n          value={this.state.server_seed}\n          onChange={e => this.setState({ server_seed: e.target.value })}\n        />\n        <br />\n        <br />\n        <h3>Enter the # of games to view before this one</h3>\n        <input\n          value={this.state.amount}\n          onChange={e => this.setState({ amount: e.target.value })}\n        />\n\n        <hr />\n        <h1>Crash points:</h1>\n\n        {!this.state.server_seed || this.state.server_seed.length !== 64 ? (\n          <h3 style={{ color: \"red\" }}>\n            Please enter a server seed to view this table\n          </h3>\n        ) : (\n          <table>\n            <thead>\n              <tr>\n                <th>Crash point</th>\n                <th>Seed</th>\n                <th>Hash (hmac with client seed)</th>\n              </tr>\n            </thead>\n            <tbody>\n              {chain.map((seed, index) => {\n                const hash = crypto\n                  .createHmac(\"sha256\", seed)\n                  .update(clientSeed)\n                  .digest(\"hex\");\n\n                const divisible = (hash, mod) => {\n                  let val = 0;\n\n                  let o = hash.length % 4;\n                  for (let i = o > 0 ? o - 4 : 0; i < hash.length; i += 4) {\n                    val =\n                      ((val << 16) + parseInt(hash.substring(i, i + 4), 16)) %\n                      mod;\n                  }\n\n                  return val === 0;\n                };\n\n                function getPoint(hash) {\n                  // In 1 of 15 games the game crashes instantly.\n                  if (divisible(hash, 15)) return 0;\n\n                  // Use the most significant 52-bit from the hash to calculate the crash point\n                  let h = parseInt(hash.slice(0, 52 / 4), 16);\n                  let e = Math.pow(2, 52);\n\n                  const point = (\n                    Math.floor((100 * e - h) / (e - h)) / 100\n                  ).toFixed(2);\n\n                  return point;\n                }\n\n                const point = getPoint(hash);\n                return (\n                  <tr>\n                    <td style={{ color: point < 2 ? \"red\" : \"green\" }}>\n                      {point}\n                    </td>\n                    <td>{seed}</td>\n                    <td>{hash}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        )}\n      </div>\n    );\n  }\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}